{"ast":null,"code":"// leaf-rain.ts - genera hojas cayendo de forma aleatoria\nexport function startLeafRain() {\n  const container = document.querySelector('.leaves-layer');\n  if (!container) return;\n  // cuántas hojas mantener promedio en pantalla\n  const TARGET_LEAVES = 24;\n  const createLeaf = () => {\n    const leaf = document.createElement('div');\n    leaf.className = 'leaf';\n    // posición horizontal random (0% a 100%)\n    const left = Math.random() * 100;\n    // duración de caída entre 16s y 26s\n    const duration = 16 + Math.random() * 10;\n    // delay negativo: empiezan ya \"a medio camino\"\n    const delay = -Math.random() * duration;\n    // ligera rotación inicial [-20°, 20°]\n    const rotate = (Math.random() - 0.5) * 40;\n    // escala entre 0.8 y 1.3 → hojas más grandes o pequeñas\n    const scale = 0.8 + Math.random() * 0.5;\n    // modelo de hoja (1, 2 o 3)\n    const variant = 1 + Math.floor(Math.random() * 3);\n    leaf.setAttribute('data-variant', String(variant));\n    // aplicamos estilos inline\n    leaf.style.left = `${left}%`;\n    leaf.style.animationDuration = `${duration}s`;\n    leaf.style.animationDelay = `${delay}s`;\n    leaf.style.transform = `rotate(${rotate}deg) scale(${scale})`;\n    container.appendChild(leaf);\n    // eliminamos la hoja después de que termine su animación\n    setTimeout(() => {\n      leaf.remove();\n    }, (duration + 2) * 1000);\n  };\n  // primer \"batch\" inicial de hojas\n  for (let i = 0; i < TARGET_LEAVES; i++) {\n    createLeaf();\n  }\n  // cada cierto tiempo agregamos nuevas hojas\n  setInterval(() => {\n    // si hay pocas, agregamos varias; si hay muchas, menos\n    const currentLeaves = container.querySelectorAll('.leaf').length;\n    if (currentLeaves < TARGET_LEAVES * 1.5) {\n      const toCreate = 1 + Math.floor(Math.random() * 3);\n      for (let i = 0; i < toCreate; i++) {\n        createLeaf();\n      }\n    }\n  }, 1200); // cada 1.2s aprox se crean hojas nuevas\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}