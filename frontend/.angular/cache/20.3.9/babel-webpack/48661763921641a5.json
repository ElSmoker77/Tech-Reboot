{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as L from 'leaflet';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nexport let LocalizacionComponent = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class LocalizacionComponent {\n    constructor(router, zone, el) {\n      this.router = router;\n      this.zone = zone;\n      this.el = el;\n    }\n    ngAfterViewInit() {\n      // ðŸ”§ Espera a que Angular pinte todo el DOM\n      this.zone.runOutsideAngular(() => {\n        const mapDiv = this.el.nativeElement.querySelector('#map');\n        // Espera hasta que el div del mapa tenga un alto visible\n        const waitForRender = setInterval(() => {\n          const rect = mapDiv?.getBoundingClientRect();\n          if (rect && rect.height > 0) {\n            clearInterval(waitForRender);\n            setTimeout(() => this.initMap(), 200);\n          }\n        }, 100);\n      });\n    }\n    initMap() {\n      const angolCoords = [-37.7956, -72.7164];\n      // Si ya existe un mapa previo, lo eliminamos\n      if (this.map) {\n        this.map.off();\n        this.map.remove();\n      }\n      // Crea el mapa\n      this.map = L.map('map', {\n        center: angolCoords,\n        zoom: 14,\n        zoomControl: false,\n        scrollWheelZoom: false,\n        doubleClickZoom: false,\n        touchZoom: false,\n        dragging: true\n      });\n      // Capa base de OpenStreetMap\n      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n        attribution: '&copy; OpenStreetMap contributors'\n      }).addTo(this.map);\n      // Ãcono personalizado\n      const icon = L.icon({\n        iconUrl: 'https://cdn-icons-png.flaticon.com/512/854/854878.png',\n        iconSize: [38, 38],\n        iconAnchor: [19, 37],\n        popupAnchor: [0, -30]\n      });\n      // ðŸ“ Puntos de recolecciÃ³n\n      const puntos = [{\n        nombre: 'Tech Reboot Centro',\n        coords: [-37.795, -72.715]\n      }, {\n        nombre: 'Tech Reboot Norte',\n        coords: [-37.785, -72.715]\n      }, {\n        nombre: 'Tech Reboot Sur',\n        coords: [-37.805, -72.715]\n      }, {\n        nombre: 'Tech Reboot Este',\n        coords: [-37.795, -72.705]\n      }, {\n        nombre: 'Tech Reboot Oeste',\n        coords: [-37.795, -72.725]\n      }];\n      const marcadores = puntos.map(p => L.marker(p.coords, {\n        icon\n      }).bindPopup(`<b>${p.nombre}</b><br>Punto de reciclaje`).addTo(this.map));\n      // Calcula el centro de los puntos\n      const grupo = L.featureGroup(marcadores);\n      const center = grupo.getBounds().getCenter();\n      // Centra el mapa sin hacer zoom\n      this.map.setView(center, 14);\n      // Control de zoom\n      L.control.zoom({\n        position: 'bottomright'\n      }).addTo(this.map);\n      // ðŸ”§ Redibuja el mapa una sola vez (para evitar recortes)\n      setTimeout(() => this.map.invalidateSize(), 500);\n    }\n    ngOnDestroy() {\n      if (this.map) {\n        this.map.off();\n        this.map.remove();\n      }\n    }\n    volver() {\n      this.router.navigate(['/menu']);\n    }\n    static #_ = _staticBlock = () => (this.Éµfac = function LocalizacionComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || LocalizacionComponent)(i0.ÉµÉµdirectiveInject(i1.Router), i0.ÉµÉµdirectiveInject(i0.NgZone), i0.ÉµÉµdirectiveInject(i0.ElementRef));\n    }, this.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n      type: LocalizacionComponent,\n      selectors: [[\"app-localizacion\"]],\n      decls: 15,\n      vars: 0,\n      consts: [[1, \"container-fluid\", \"py-5\", \"animate__animated\", \"animate__fadeIn\"], [1, \"card\", \"shadow-lg\", \"border-0\", \"rounded-4\", \"mx-auto\", \"mapa-card\"], [1, \"card-body\", \"p-4\"], [1, \"text-center\", \"text-success\", \"mb-4\"], [1, \"bi\", \"bi-geo-alt-fill\", \"me-2\"], [1, \"map-wrapper\"], [\"id\", \"map\"], [1, \"alert\", \"alert-light\", \"border-start\", \"border-success\", \"border-4\", \"text-muted\", \"shadow-sm\", \"mt-4\"], [1, \"bi\", \"bi-info-circle-fill\", \"text-success\", \"me-2\"], [1, \"text-center\", \"mt-4\"], [1, \"btn\", \"btn-outline-success\", \"px-4\", \"py-2\", 3, \"click\"], [1, \"bi\", \"bi-arrow-left-circle\", \"me-2\"]],\n      template: function LocalizacionComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ÉµÉµdomElementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h2\", 3);\n          i0.ÉµÉµdomElement(4, \"i\", 4);\n          i0.ÉµÉµtext(5, \" Locales de Tech Reboot en Angol \");\n          i0.ÉµÉµdomElementEnd();\n          i0.ÉµÉµdomElementStart(6, \"div\", 5);\n          i0.ÉµÉµdomElement(7, \"div\", 6);\n          i0.ÉµÉµdomElementEnd();\n          i0.ÉµÉµdomElementStart(8, \"div\", 7);\n          i0.ÉµÉµdomElement(9, \"i\", 8);\n          i0.ÉµÉµtext(10, \" Explora el mapa para ver los puntos de reciclaje Tech Reboot en Angol. \");\n          i0.ÉµÉµdomElementEnd();\n          i0.ÉµÉµdomElementStart(11, \"div\", 9)(12, \"button\", 10);\n          i0.ÉµÉµdomListener(\"click\", function LocalizacionComponent_Template_button_click_12_listener() {\n            return ctx.volver();\n          });\n          i0.ÉµÉµdomElement(13, \"i\", 11);\n          i0.ÉµÉµtext(14, \" Volver \");\n          i0.ÉµÉµdomElementEnd()()()()();\n        }\n      },\n      dependencies: [CommonModule, RouterModule],\n      styles: [\".mapa-card[_ngcontent-%COMP%]{max-width:960px;background:#fffffff7;border-radius:20px;box-shadow:0 6px 30px #0000001a;-webkit-backdrop-filter:blur(6px);backdrop-filter:blur(6px);margin-bottom:50px;overflow:visible}.map-wrapper[_ngcontent-%COMP%]{position:relative;width:100%;height:460px;overflow:hidden;border-radius:16px;border:2px solid #b6e2b6;box-shadow:inset 0 0 10px #0000000d}#map[_ngcontent-%COMP%]{position:absolute;inset:0;height:100%;width:100%;z-index:1}.leaflet-container[_ngcontent-%COMP%]{width:100%!important;height:100%!important;background:none!important}.alert[_ngcontent-%COMP%]{border-radius:10px;font-size:.95rem;background-color:#f8fff9}h2[_ngcontent-%COMP%]{color:#0b7d3e;font-weight:600;letter-spacing:.5px}.btn-outline-success[_ngcontent-%COMP%]{border-radius:8px;font-weight:500;transition:all .3s ease}.btn-outline-success[_ngcontent-%COMP%]:hover{background-color:#09a955;color:#fff}.animate__fadeIn[_ngcontent-%COMP%]{animation-duration:.9s}@media (max-width: 768px){.map-wrapper[_ngcontent-%COMP%]{height:360px}h2[_ngcontent-%COMP%]{font-size:1.4rem}}\"]\n    }));\n  }\n  _staticBlock();\n  return LocalizacionComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}