{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/ALUMNO/Downloads/TechReboot2.55/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../services/auth.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\nconst _c0 = a0 => ({\n  \"has-error\": a0\n});\nfunction RegistroComponent_small_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 32);\n    i0.ɵɵtext(1, \"El nombre es obligatorio.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistroComponent_small_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 32);\n    i0.ɵɵtext(1, \"Ingresa un correo v\\uFFFD\\uFFFDlido.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistroComponent_small_33_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"small\", 32);\n    i0.ɵɵtext(1, \"La contrase\\uFFFD\\uFFFDa es obligatoria.\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistroComponent_span_36_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵelement(1, \"i\", 33);\n    i0.ɵɵtext(2, \" Registrar usuario \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction RegistroComponent_span_37_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"span\", 34);\n  }\n}\nfunction RegistroComponent_div_41_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 35);\n    i0.ɵɵelement(1, \"i\", 36);\n    i0.ɵɵelementStart(2, \"span\");\n    i0.ɵɵtext(3);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r2 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.estadoMensaje === \"success\" ? \"success\" : \"error\");\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngClass\", ctx_r2.estadoMensaje === \"success\" ? \"bi-check-circle-fill\" : \"bi-exclamation-circle-fill\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r2.mensaje);\n  }\n}\nexport let RegistroComponent = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class RegistroComponent {\n    constructor(auth, router) {\n      this.auth = auth;\n      this.router = router;\n      this.user = {\n        nombre: '',\n        correo: '',\n        password: ''\n      };\n      this.mensaje = '';\n      this.estadoMensaje = '';\n      this.isSubmitting = false;\n    }\n    registrar(form) {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        if (form.invalid) {\n          form.form.markAllAsTouched();\n          _this.estadoMensaje = 'error';\n          _this.mensaje = 'Completa todos los campos obligatorios.';\n          return;\n        }\n        _this.isSubmitting = true;\n        _this.estadoMensaje = '';\n        _this.mensaje = '';\n        const payload = {\n          nombre: _this.user.nombre.trim(),\n          correo: _this.normalizarCorreo(_this.user.correo),\n          password: _this.user.password\n        };\n        try {\n          const res = yield _this.auth.register(payload);\n          _this.estadoMensaje = 'success';\n          _this.mensaje = res?.msg || 'Usuario registrado correctamente.';\n          form.resetForm();\n          _this.user = {\n            nombre: '',\n            correo: '',\n            password: ''\n          };\n          setTimeout(() => _this.router.navigate(['/login']), 1800);\n        } catch (error) {\n          console.error('�?O Error al registrar:', error);\n          _this.estadoMensaje = 'error';\n          if (error?.status === 400) {\n            _this.mensaje = error?.error?.msg || 'Este correo ya est�� registrado.';\n          } else {\n            _this.mensaje = 'Error al registrar el usuario. Intenta m��s tarde.';\n          }\n        } finally {\n          _this.isSubmitting = false;\n        }\n      })();\n    }\n    volver() {\n      this.router.navigate(['/login']);\n    }\n    normalizarCorreo(value) {\n      return value?.trim().toLowerCase();\n    }\n    static #_ = _staticBlock = () => (this.ɵfac = function RegistroComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || RegistroComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.Router));\n    }, this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: RegistroComponent,\n      selectors: [[\"app-registro\"]],\n      decls: 72,\n      vars: 19,\n      consts: [[\"form\", \"ngForm\"], [1, \"register-background\"], [1, \"gradient-layer\"], [1, \"orb\", \"orb-1\"], [1, \"orb\", \"orb-2\"], [1, \"register-shell\"], [1, \"registro-card\", \"animate__animated\", \"animate__fadeIn\"], [1, \"brand-pill\"], [1, \"bi\", \"bi-person-plus-fill\"], [1, \"subtitle\"], [\"novalidate\", \"\", 3, \"ngSubmit\"], [\"for\", \"nombre\", 1, \"field-label\"], [1, \"input-wrapper\", 3, \"ngClass\"], [1, \"bi\", \"bi-person-fill\"], [\"type\", \"text\", \"id\", \"nombre\", \"name\", \"nombre\", \"placeholder\", \"Ej: Jean Herrera\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"class\", \"helper-text\", 4, \"ngIf\"], [\"for\", \"correo\", 1, \"field-label\"], [1, \"bi\", \"bi-envelope-open-fill\"], [\"type\", \"email\", \"id\", \"correo\", \"name\", \"correo\", \"placeholder\", \"ejemplo@correo.com\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [\"for\", \"password\", 1, \"field-label\"], [1, \"bi\", \"bi-shield-lock-fill\"], [\"type\", \"password\", \"id\", \"password\", \"name\", \"password\", \"placeholder\", \"M\\uFFFD\\uFFFDnimo 6 caracteres\", \"minlength\", \"6\", \"required\", \"\", 3, \"ngModelChange\", \"ngModel\"], [1, \"acciones\"], [\"type\", \"submit\", 1, \"btn-primary\", 3, \"disabled\"], [4, \"ngIf\"], [\"class\", \"btn-spinner\", \"aria-hidden\", \"true\", 4, \"ngIf\"], [\"type\", \"button\", 1, \"btn-ghost\", 3, \"click\"], [1, \"bi\", \"bi-arrow-left-circle\", \"me-2\"], [\"class\", \"status-banner\", \"role\", \"alert\", 3, \"ngClass\", 4, \"ngIf\"], [1, \"register-panel\", \"animate__animated\", \"animate__fadeInUp\"], [1, \"steps\"], [1, \"step-number\"], [1, \"helper-text\"], [1, \"bi\", \"bi-person-check-fill\", \"me-2\"], [\"aria-hidden\", \"true\", 1, \"btn-spinner\"], [\"role\", \"alert\", 1, \"status-banner\", 3, \"ngClass\"], [1, \"bi\", 3, \"ngClass\"]],\n      template: function RegistroComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 1);\n          i0.ɵɵelement(1, \"div\", 2)(2, \"div\", 3)(3, \"div\", 4);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(4, \"section\", 5)(5, \"article\", 6)(6, \"div\", 7);\n          i0.ɵɵelement(7, \"i\", 8);\n          i0.ɵɵelementStart(8, \"span\");\n          i0.ɵɵtext(9, \"Crear cuenta\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(10, \"h2\");\n          i0.ɵɵtext(11, \"Activa tu perfil Tech Reboot\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(12, \"p\", 9);\n          i0.ɵɵtext(13, \" Completa tus datos para comenzar a registrar componentes y seguir su ciclo de vida. \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(14, \"form\", 10, 0);\n          i0.ɵɵlistener(\"ngSubmit\", function RegistroComponent_Template_form_ngSubmit_14_listener() {\n            i0.ɵɵrestoreView(_r1);\n            const form_r2 = i0.ɵɵreference(15);\n            return i0.ɵɵresetView(ctx.registrar(form_r2));\n          });\n          i0.ɵɵelementStart(16, \"label\", 11);\n          i0.ɵɵtext(17, \"Nombre completo\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(18, \"div\", 12);\n          i0.ɵɵelement(19, \"i\", 13);\n          i0.ɵɵelementStart(20, \"input\", 14);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegistroComponent_Template_input_ngModelChange_20_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.user.nombre, $event) || (ctx.user.nombre = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(21, RegistroComponent_small_21_Template, 2, 0, \"small\", 15);\n          i0.ɵɵelementStart(22, \"label\", 16);\n          i0.ɵɵtext(23, \"Correo electr\\uFFFD\\uFFFDnico\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(24, \"div\", 12);\n          i0.ɵɵelement(25, \"i\", 17);\n          i0.ɵɵelementStart(26, \"input\", 18);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegistroComponent_Template_input_ngModelChange_26_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.user.correo, $event) || (ctx.user.correo = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(27, RegistroComponent_small_27_Template, 2, 0, \"small\", 15);\n          i0.ɵɵelementStart(28, \"label\", 19);\n          i0.ɵɵtext(29, \"Contrase\\uFFFD\\uFFFDa\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(30, \"div\", 12);\n          i0.ɵɵelement(31, \"i\", 20);\n          i0.ɵɵelementStart(32, \"input\", 21);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function RegistroComponent_Template_input_ngModelChange_32_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.user.password, $event) || (ctx.user.password = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(33, RegistroComponent_small_33_Template, 2, 0, \"small\", 15);\n          i0.ɵɵelementStart(34, \"div\", 22)(35, \"button\", 23);\n          i0.ɵɵtemplate(36, RegistroComponent_span_36_Template, 3, 0, \"span\", 24)(37, RegistroComponent_span_37_Template, 1, 0, \"span\", 25);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(38, \"button\", 26);\n          i0.ɵɵlistener(\"click\", function RegistroComponent_Template_button_click_38_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.volver());\n          });\n          i0.ɵɵelement(39, \"i\", 27);\n          i0.ɵɵtext(40, \" Volver \");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵtemplate(41, RegistroComponent_div_41_Template, 4, 3, \"div\", 28);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(42, \"aside\", 29)(43, \"h3\");\n          i0.ɵɵtext(44, \"Un registro pensado para el laboratorio\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(45, \"p\");\n          i0.ɵɵtext(46, \" Mant\\uFFFD\\uFFFDn sincronizados tus componentes con el flujo de reacondicionamiento. Asignamos cada pieza a un responsable para que el seguimiento sea claro. \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(47, \"ol\", 30)(48, \"li\")(49, \"span\", 31);\n          i0.ɵɵtext(50, \"1\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(51, \"div\")(52, \"h4\");\n          i0.ɵɵtext(53, \"Ingresa tus datos\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(54, \"p\");\n          i0.ɵɵtext(55, \"Usamos tu correo institucional para identificarte dentro del sistema.\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(56, \"li\")(57, \"span\", 31);\n          i0.ɵɵtext(58, \"2\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(59, \"div\")(60, \"h4\");\n          i0.ɵɵtext(61, \"Registra componentes\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(62, \"p\");\n          i0.ɵɵtext(63, \"Agrega cada pieza indicando categor\\uFFFD\\uFFFDa, estado y responsable.\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(64, \"li\")(65, \"span\", 31);\n          i0.ɵɵtext(66, \"3\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(67, \"div\")(68, \"h4\");\n          i0.ɵɵtext(69, \"Monitorea avances\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(70, \"p\");\n          i0.ɵɵtext(71, \"Consulta el inventario filtrado por tu usuario y mant\\uFFFD\\uFFFDn el control.\");\n          i0.ɵɵelementEnd()()()()()();\n        }\n        if (rf & 2) {\n          const form_r2 = i0.ɵɵreference(15);\n          i0.ɵɵadvance(18);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(13, _c0, form_r2.submitted && !ctx.user.nombre));\n          i0.ɵɵadvance(2);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.user.nombre);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", form_r2.submitted && !ctx.user.nombre);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(15, _c0, form_r2.submitted && !ctx.user.correo));\n          i0.ɵɵadvance(2);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.user.correo);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", form_r2.submitted && !ctx.user.correo);\n          i0.ɵɵadvance(3);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(17, _c0, form_r2.submitted && !ctx.user.password));\n          i0.ɵɵadvance(2);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.user.password);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", form_r2.submitted && !ctx.user.password);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"disabled\", ctx.isSubmitting);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isSubmitting);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isSubmitting);\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"ngIf\", ctx.mensaje);\n        }\n      },\n      dependencies: [CommonModule, i3.NgClass, i3.NgIf, FormsModule, i4.ɵNgNoValidate, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgControlStatusGroup, i4.RequiredValidator, i4.MinLengthValidator, i4.NgModel, i4.NgForm, HttpClientModule],\n      styles: [\".registro-card[_ngcontent-%COMP%]{max-width:500px;background:#fffffff5;border-radius:20px;box-shadow:0 8px 30px #00000014;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);margin:0 auto 50px;transition:all .3s ease-in-out}.registro-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px);box-shadow:0 10px 35px #0000001f}h2[_ngcontent-%COMP%]{color:#0b7d3e;font-weight:600;letter-spacing:.5px}.form-control[_ngcontent-%COMP%]{border-radius:10px;border:1px solid #cce3d2;transition:border-color .3s ease,box-shadow .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#09a955;box-shadow:0 0 8px #0b7d3e40}.btn-success[_ngcontent-%COMP%]{background-color:#0b7d3e;border:none;border-radius:10px;transition:all .3s ease}.btn-success[_ngcontent-%COMP%]:hover{background-color:#09a955}.btn-outline-success[_ngcontent-%COMP%]{border-radius:10px;font-weight:500;transition:all .3s ease}.btn-outline-success[_ngcontent-%COMP%]:hover{background-color:#09a955;color:#fff}.mensaje[_ngcontent-%COMP%]{color:#0b7d3e;text-align:center;font-weight:700}.animate__fadeIn[_ngcontent-%COMP%]{animation-duration:.8s}@media (max-width: 576px){.registro-card[_ngcontent-%COMP%]{padding:20px}h2[_ngcontent-%COMP%]{font-size:1.4rem}}\"]\n    }));\n  }\n  _staticBlock();\n  return RegistroComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}