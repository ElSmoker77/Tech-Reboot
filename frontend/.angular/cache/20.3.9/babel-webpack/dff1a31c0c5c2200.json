{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/yoiker/Downloads/TechReboot2.56/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { arrayRandomIndex, executeOnSingleOrMultiple, isArray, isNumber, itemFromArray } from \"@tsparticles/engine\";\nimport { Emitter } from \"./Options/Classes/Emitter.js\";\nimport { EmitterClickMode } from \"./Enums/EmitterClickMode.js\";\nimport { EmitterInstance } from \"./EmitterInstance.js\";\nexport class Emitters {\n  constructor(engine, container) {\n    var _this = this;\n    this.container = container;\n    this._engine = engine;\n    this.array = [];\n    this.emitters = [];\n    this.interactivityEmitters = {\n      random: {\n        count: 1,\n        enable: false\n      },\n      value: []\n    };\n    const defaultIndex = 0;\n    container.getEmitter = idxOrName => idxOrName === undefined || isNumber(idxOrName) ? this.array[idxOrName ?? defaultIndex] : this.array.find(t => t.name === idxOrName);\n    container.addEmitter = /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (options, position) {\n        return _this.addEmitter(options, position);\n      });\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }();\n    container.removeEmitter = idxOrName => {\n      const emitter = container.getEmitter(idxOrName);\n      if (emitter) {\n        this.removeEmitter(emitter);\n      }\n    };\n    container.playEmitter = idxOrName => {\n      const emitter = container.getEmitter(idxOrName);\n      if (emitter) {\n        emitter.externalPlay();\n      }\n    };\n    container.pauseEmitter = idxOrName => {\n      const emitter = container.getEmitter(idxOrName);\n      if (emitter) {\n        emitter.externalPause();\n      }\n    };\n  }\n  addEmitter(options, position) {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      const emitterOptions = new Emitter();\n      emitterOptions.load(options);\n      const emitter = new EmitterInstance(_this2._engine, _this2, _this2.container, emitterOptions, position);\n      yield emitter.init();\n      _this2.array.push(emitter);\n      return emitter;\n    })();\n  }\n  handleClickMode(mode) {\n    var _this3 = this;\n    const emitterOptions = this.emitters,\n      modeEmitters = this.interactivityEmitters;\n    if (mode !== EmitterClickMode.emitter) {\n      return;\n    }\n    let emittersModeOptions;\n    if (modeEmitters && isArray(modeEmitters.value)) {\n      const minLength = 0;\n      if (modeEmitters.value.length > minLength && modeEmitters.random.enable) {\n        emittersModeOptions = [];\n        const usedIndexes = [];\n        for (let i = 0; i < modeEmitters.random.count; i++) {\n          const idx = arrayRandomIndex(modeEmitters.value);\n          if (usedIndexes.includes(idx) && usedIndexes.length < modeEmitters.value.length) {\n            i--;\n            continue;\n          }\n          usedIndexes.push(idx);\n          emittersModeOptions.push(itemFromArray(modeEmitters.value, idx));\n        }\n      } else {\n        emittersModeOptions = modeEmitters.value;\n      }\n    } else {\n      emittersModeOptions = modeEmitters?.value;\n    }\n    const emittersOptions = emittersModeOptions ?? emitterOptions,\n      ePosition = this.container.interactivity.mouse.clickPosition;\n    void executeOnSingleOrMultiple(emittersOptions, /*#__PURE__*/function () {\n      var _ref2 = _asyncToGenerator(function* (emitter) {\n        yield _this3.addEmitter(emitter, ePosition);\n      });\n      return function (_x3) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  }\n  init() {\n    var _this4 = this;\n    return _asyncToGenerator(function* () {\n      _this4.emitters = _this4.container.actualOptions.emitters;\n      _this4.interactivityEmitters = _this4.container.actualOptions.interactivity.modes.emitters;\n      if (!_this4.emitters) {\n        return;\n      }\n      if (isArray(_this4.emitters)) {\n        for (const emitterOptions of _this4.emitters) {\n          yield _this4.addEmitter(emitterOptions);\n        }\n      } else {\n        yield _this4.addEmitter(_this4.emitters);\n      }\n    })();\n  }\n  pause() {\n    for (const emitter of this.array) {\n      emitter.pause();\n    }\n  }\n  play() {\n    for (const emitter of this.array) {\n      emitter.play();\n    }\n  }\n  removeEmitter(emitter) {\n    const index = this.array.indexOf(emitter),\n      minIndex = 0,\n      deleteCount = 1;\n    if (index >= minIndex) {\n      this.array.splice(index, deleteCount);\n    }\n  }\n  resize() {\n    for (const emitter of this.array) {\n      emitter.resize();\n    }\n  }\n  stop() {\n    this.array = [];\n  }\n  update(delta) {\n    for (const emitter of this.array) {\n      emitter.update(delta);\n    }\n  }\n}","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}