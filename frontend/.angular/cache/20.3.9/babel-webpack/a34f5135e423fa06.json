{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as L from 'leaflet';\nlet LocalizacionComponent = class LocalizacionComponent {\n  constructor(router, zone) {\n    this.router = router;\n    this.zone = zone;\n  }\n  ngAfterViewInit() {\n    this.zone.runOutsideAngular(() => {\n      // Espera un poco para asegurar que el contenedor existe y tenga tamaÃ±o\n      setTimeout(() => {\n        this.initMap();\n        // âš™ï¸ InvalidateSize repetido asegura el render correcto\n        setTimeout(() => this.map.invalidateSize(), 500);\n        setTimeout(() => this.map.invalidateSize(), 1500);\n        setTimeout(() => this.map.invalidateSize(), 3000);\n      }, 400);\n    });\n  }\n  initMap() {\n    // ðŸ§¹ Limpieza de instancias previas\n    if (this.map) {\n      this.map.off();\n      this.map.remove();\n    }\n    const angolCoords = [-37.7956, -72.7164];\n    // ðŸ—ºï¸ InicializaciÃ³n del mapa con interacciÃ³n completa\n    this.map = L.map('map', {\n      center: angolCoords,\n      zoom: 14,\n      zoomControl: true,\n      scrollWheelZoom: true,\n      dragging: true,\n      tap: false\n    });\n    // ðŸŒ Capa base OpenStreetMap\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; OpenStreetMap contributors',\n      maxZoom: 19\n    }).addTo(this.map);\n    // â™»ï¸ Ãcono personalizado\n    const icon = L.icon({\n      iconUrl: 'https://cdn-icons-png.flaticon.com/512/854/854878.png',\n      iconSize: [38, 38],\n      iconAnchor: [19, 37],\n      popupAnchor: [0, -30]\n    });\n    // ðŸ“ Puntos Tech Reboot\n    const puntos = [{\n      nombre: 'Tech Reboot Centro',\n      coords: [-37.795, -72.715]\n    }, {\n      nombre: 'Tech Reboot Norte',\n      coords: [-37.785, -72.715]\n    }, {\n      nombre: 'Tech Reboot Sur',\n      coords: [-37.805, -72.715]\n    }, {\n      nombre: 'Tech Reboot Este',\n      coords: [-37.795, -72.705]\n    }, {\n      nombre: 'Tech Reboot Oeste',\n      coords: [-37.795, -72.725]\n    }];\n    // ðŸ“Œ Crea y agrega marcadores\n    const marcadores = puntos.map(p => L.marker(p.coords, {\n      icon\n    }).bindPopup(`<b>${p.nombre}</b><br>Punto de reciclaje`).addTo(this.map));\n    // Agrupa los marcadores para ajustar el zoom automÃ¡ticamente\n    const grupo = L.featureGroup(marcadores);\n    this.map.fitBounds(grupo.getBounds().pad(0.3));\n    // ðŸ”„ Ajusta el tamaÃ±o cuando cambia el tamaÃ±o de ventana\n    window.addEventListener('resize', () => this.map.invalidateSize());\n  }\n  // ðŸ§½ Limpieza cuando el componente se destruye\n  ngOnDestroy() {\n    if (this.map) {\n      this.map.off();\n      this.map.remove();\n    }\n  }\n  volver() {\n    this.router.navigate(['/menu']);\n  }\n};\nLocalizacionComponent = __decorate([Component({\n  selector: 'app-localizacion',\n  standalone: true,\n  imports: [CommonModule, RouterModule],\n  templateUrl: './localizacion.component.html',\n  styleUrls: ['./localizacion.component.css']\n})], LocalizacionComponent);\nexport { LocalizacionComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}