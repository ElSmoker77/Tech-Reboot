{"ast":null,"code":"import { __decorate } from \"tslib\";\n// src/app/components/inicio/inicio.ts\nimport { Component, HostListener } from '@angular/core';\nimport { CommonModule, NgClass } from '@angular/common';\nimport { LocalizacionComponent } from '../localizacion/localizacion.component';\nimport { ContactoComponent } from '../contacto/contacto.component';\nimport { Diagramaeconomia } from '../diagramaeconomia/diagramaeconomia';\nimport { EquipoComponent } from '../equipo/equipo';\nimport { LineatiempoComponent } from '../lineatiempo-degradacion/lineatiempo-degradacion';\nimport { LineatiempoPreacopioComponent } from '../lineatiempo-preacopio/lineatiempo-preacopio';\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"*\"];\n/** Card reutilizable */\nexport let CardComponent = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class CardComponent {\n    constructor() {\n      this.title = '';\n    }\n    static #_ = _staticBlock = () => (this.…µfac = function CardComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CardComponent)();\n    }, this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: CardComponent,\n      selectors: [[\"app-card\"]],\n      inputs: {\n        title: \"title\"\n      },\n      ngContentSelectors: _c0,\n      decls: 6,\n      vars: 1,\n      consts: [[1, \"rounded-2xl\", \"shadow-sm\", \"border\", \"border-gray-100\", \"bg-white\"], [1, \"px-5\", \"pt-5\"], [1, \"text-lg\", \"font-semibold\"], [1, \"px-5\", \"pb-5\", \"text-sm\", \"text-gray-600\"]],\n      template: function CardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µprojectionDef();\n          i0.…µ…µdomElementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\", 2);\n          i0.…µ…µtext(3);\n          i0.…µ…µdomElementEnd()();\n          i0.…µ…µdomElementStart(4, \"div\", 3);\n          i0.…µ…µprojection(5);\n          i0.…µ…µdomElementEnd()();\n        }\n        if (rf & 2) {\n          i0.…µ…µadvance(3);\n          i0.…µ…µtextInterpolate(ctx.title);\n        }\n      },\n      dependencies: [CommonModule],\n      encapsulation: 2\n    }));\n  }\n  _staticBlock();\n  return CardComponent;\n})();\n/** P√°gina completa Tech Reboot */\nlet TechRebootComponent = class TechRebootComponent {\n  constructor(dashboardService) {\n    this.dashboardService = dashboardService;\n    this.year = new Date().getFullYear();\n    this.dropdownAbierto = false;\n    // üìä Stats din√°micas\n    this.stats = [];\n    this.cargandoStats = false; // üëà ahora s√≠ existe\n    this.errorStats = null; // üëà ahora s√≠ existe\n    // pesta√±a seleccionada en la secci√≥n Educaci√≥n\n    this.infoTabSeleccionado = 'economia';\n    this.placeholders = {\n      heroImage: 'https://images.unsplash.com/photo-1581093458791-9d09b5c83e0a?q=80&w=1200&auto=format&fit=crop'\n    };\n  }\n  ngOnInit() {\n    this.cargarStats();\n  }\n  cargarStats() {\n    this.cargandoStats = true;\n    this.errorStats = null;\n    this.dashboardService.getStats().subscribe({\n      next: res => {\n        this.stats = [{\n          label: 'Kg recuperados',\n          value: res.kgRecuperados\n        }, {\n          label: 'Equipos reacondicionados / reutilizables',\n          value: res.equiposReacondicionados\n        }, {\n          label: 'CO‚ÇÇ evitado (kg aprox.)',\n          value: res.co2EvitadoKg\n        }, {\n          label: 'Vecinos participantes (usuarios)',\n          value: res.totalUsuarios\n        }];\n        this.cargandoStats = false;\n      },\n      error: err => {\n        console.error(err);\n        this.errorStats = 'No se pudieron cargar las estad√≠sticas';\n        this.cargandoStats = false;\n        // opcional: fallback en cero\n        this.stats = [{\n          label: 'Kg recuperados',\n          value: 0\n        }, {\n          label: 'Equipos reacondicionados / reutilizables',\n          value: 0\n        }, {\n          label: 'CO‚ÇÇ evitado (kg aprox.)',\n          value: 0\n        }, {\n          label: 'Vecinos participantes (usuarios)',\n          value: 0\n        }];\n      }\n    });\n  }\n  fmt(n) {\n    return n.toLocaleString('es-CL', {\n      maximumFractionDigits: 1\n    });\n  }\n  cambiarTab(tab) {\n    this.infoTabSeleccionado = tab;\n  }\n  toggleDropdown() {\n    this.dropdownAbierto = !this.dropdownAbierto;\n  }\n  cerrarDropdown() {\n    this.dropdownAbierto = false;\n  }\n  onDocumentClick(event) {\n    const target = event.target;\n    const dropdownElement = target.closest('.relative');\n    if (!dropdownElement) {\n      this.cerrarDropdown();\n    }\n  }\n};\n__decorate([HostListener('document:click', ['$event'])], TechRebootComponent.prototype, \"onDocumentClick\", null);\nTechRebootComponent = __decorate([Component({\n  selector: 'app-techreboot',\n  standalone: true,\n  imports: [CommonModule, NgClass, CardComponent, LocalizacionComponent, ContactoComponent, Diagramaeconomia, EquipoComponent, LineatiempoComponent, LineatiempoPreacopioComponent],\n  templateUrl: './inicio.html',\n  styleUrls: ['./inicio.css']\n})], TechRebootComponent);\nexport { TechRebootComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}