{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/maty_/Desktop/Tech-Reboot2.0/TechReboot/TechReboot/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\n// src/app/components/inicio/inicio.ts\nimport { Component } from '@angular/core';\nimport { CommonModule, NgClass } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport { LocalizacionComponent } from '../localizacion/localizacion.component';\nimport { ContactoComponent } from '../inicio/contacto/contacto.component';\nimport { Diagramaeconomia } from '../educacion/diagramaeconomia/diagramaeconomia';\nimport { EquipoComponent } from '../equipo/equipo';\nimport { LineatiempoComponent } from '../educacion/lineatiempo-degradacion/lineatiempo-degradacion';\nimport { LineatiempoPreacopioComponent } from '../educacion/lineatiempo-preacopio/lineatiempo-preacopio';\nimport * as i0 from \"@angular/core\";\nconst _c0 = [\"*\"];\n/** Card reutilizable */\nexport let CardComponent = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class CardComponent {\n    constructor() {\n      this.title = '';\n    }\n    static #_ = _staticBlock = () => (this.Éµfac = function CardComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || CardComponent)();\n    }, this.Éµcmp = /*@__PURE__*/i0.ÉµÉµdefineComponent({\n      type: CardComponent,\n      selectors: [[\"app-card\"]],\n      inputs: {\n        title: \"title\"\n      },\n      ngContentSelectors: _c0,\n      decls: 6,\n      vars: 1,\n      consts: [[1, \"rounded-2xl\", \"shadow-sm\", \"border\", \"border-gray-100\", \"bg-white\"], [1, \"px-5\", \"pt-5\"], [1, \"text-lg\", \"font-semibold\"], [1, \"px-5\", \"pb-5\", \"text-sm\", \"text-gray-600\"]],\n      template: function CardComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ÉµÉµprojectionDef();\n          i0.ÉµÉµdomElementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"h3\", 2);\n          i0.ÉµÉµtext(3);\n          i0.ÉµÉµdomElementEnd()();\n          i0.ÉµÉµdomElementStart(4, \"div\", 3);\n          i0.ÉµÉµprojection(5);\n          i0.ÉµÉµdomElementEnd()();\n        }\n        if (rf & 2) {\n          i0.ÉµÉµadvance(3);\n          i0.ÉµÉµtextInterpolate(ctx.title);\n        }\n      },\n      dependencies: [CommonModule],\n      encapsulation: 2\n    }));\n  }\n  _staticBlock();\n  return CardComponent;\n})();\n/** PÃ¡gina completa Tech Reboot */\nlet TechRebootComponent = class TechRebootComponent {\n  constructor(dashboardService, auth, router) {\n    this.dashboardService = dashboardService;\n    this.auth = auth;\n    this.router = router;\n    this.year = new Date().getFullYear();\n    // ðŸ“Š Stats dinÃ¡micas\n    this.stats = [];\n    this.cargandoStats = false;\n    this.errorStats = null;\n    // pestaÃ±a seleccionada en la secciÃ³n EducaciÃ³n\n    this.infoTabSeleccionado = 'economia';\n    this.placeholders = {\n      heroImage: 'https://images.unsplash.com/photo-1581093458791-9d09b5c83e0a?q=80&w=1200&auto=format&fit=crop'\n    };\n  }\n  ngOnInit() {\n    this.cargarStats();\n  }\n  cargarStats() {\n    this.cargandoStats = true;\n    this.errorStats = null;\n    this.dashboardService.getStats().subscribe({\n      next: res => {\n        this.stats = [{\n          label: 'Kg recuperados',\n          value: res.kgRecuperados\n        }, {\n          label: 'Equipos reacondicionados / reutilizables',\n          value: res.equiposReacondicionados\n        }, {\n          label: 'COâ‚‚ evitado (kg aprox.)',\n          value: res.co2EvitadoKg\n        }, {\n          label: 'Vecinos participantes (usuarios)',\n          value: res.totalUsuarios\n        }];\n        this.cargandoStats = false;\n      },\n      error: err => {\n        console.error(err);\n        this.errorStats = 'No se pudieron cargar las estadÃ­sticas';\n        this.cargandoStats = false;\n        // opcional: fallback en cero\n        this.stats = [{\n          label: 'Kg recuperados',\n          value: 0\n        }, {\n          label: 'Equipos reacondicionados / reutilizables',\n          value: 0\n        }, {\n          label: 'COâ‚‚ evitado (kg aprox.)',\n          value: 0\n        }, {\n          label: 'Vecinos participantes (usuarios)',\n          value: 0\n        }];\n      }\n    });\n  }\n  fmt(n) {\n    return n.toLocaleString('es-CL', {\n      maximumFractionDigits: 1\n    });\n  }\n  cambiarTab(tab) {\n    this.infoTabSeleccionado = tab;\n  }\n  // ðŸš€ VersiÃ³n PRO: decide destino segÃºn backend\n  irARegistroComponentes() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      // si no estÃ¡ logueado â†’ login\n      if (!_this.auth.isLoggedIn()) {\n        _this.router.navigate(['/login'], {\n          queryParams: {\n            returnUrl: '/componentes'\n          }\n        });\n        return;\n      }\n      const esAdmin = yield _this.auth.isAdminFromApi();\n      if (esAdmin) {\n        // ðŸ‘‘ Admin\n        _this.router.navigate(['/admin/componentes']);\n      } else {\n        // ðŸ‘¤ Usuario normal\n        _this.router.navigate(['/componentes']);\n      }\n    })();\n  }\n};\nTechRebootComponent = __decorate([Component({\n  selector: 'app-techreboot',\n  standalone: true,\n  imports: [CommonModule, NgClass, RouterModule, CardComponent, LocalizacionComponent, ContactoComponent, Diagramaeconomia, EquipoComponent, LineatiempoComponent, LineatiempoPreacopioComponent],\n  templateUrl: './inicio.html',\n  styleUrls: ['./inicio.css']\n})], TechRebootComponent);\nexport { TechRebootComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}