{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule } from '@angular/router';\nimport * as L from 'leaflet';\nlet LocalizacionComponent = class LocalizacionComponent {\n  constructor(router, el, zone) {\n    this.router = router;\n    this.el = el;\n    this.zone = zone;\n  }\n  ngAfterViewInit() {\n    this.zone.runOutsideAngular(() => {\n      setTimeout(() => {\n        this.initMap();\n        const tiempos = [300, 1000, 2000, 4000];\n        tiempos.forEach(t => setTimeout(() => this.map.invalidateSize(), t));\n      }, 800);\n    });\n  }\n  ensureMapVisible() {\n    const mapContainer = this.el.nativeElement.querySelector('#map');\n    if (!mapContainer) return;\n    const checkSize = setInterval(() => {\n      const {\n        width,\n        height\n      } = mapContainer.getBoundingClientRect();\n      if (width > 0 && height > 0) {\n        clearInterval(checkSize);\n        this.initMap();\n      }\n    }, 100);\n  }\n  initMap() {\n    const angolCoords = [-37.7956, -72.7164];\n    if (this.map) {\n      this.map.off();\n      this.map.remove();\n    }\n    this.map = L.map('map', {\n      center: angolCoords,\n      zoom: 14,\n      zoomControl: true,\n      scrollWheelZoom: false,\n      doubleClickZoom: false,\n      dragging: true\n    });\n    L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {\n      attribution: '&copy; OpenStreetMap contributors',\n      detectRetina: true\n    }).addTo(this.map);\n    const icon = L.icon({\n      iconUrl: 'https://cdn-icons-png.flaticon.com/512/854/854878.png',\n      iconSize: [36, 36],\n      iconAnchor: [18, 36],\n      popupAnchor: [0, -28]\n    });\n    const puntos = [{\n      nombre: 'Tech Reboot Centro',\n      coords: [-37.795, -72.715]\n    }, {\n      nombre: 'Tech Reboot Norte',\n      coords: [-37.785, -72.715]\n    }, {\n      nombre: 'Tech Reboot Sur',\n      coords: [-37.805, -72.715]\n    }, {\n      nombre: 'Tech Reboot Este',\n      coords: [-37.795, -72.705]\n    }, {\n      nombre: 'Tech Reboot Oeste',\n      coords: [-37.795, -72.725]\n    }];\n    const marcadores = puntos.map(p => L.marker(p.coords, {\n      icon\n    }).bindPopup(`<b>${p.nombre}</b><br>Punto de reciclaje`).addTo(this.map));\n    const grupo = L.featureGroup(marcadores);\n    const bounds = grupo.getBounds().pad(0.2);\n    this.map.fitBounds(bounds, {\n      animate: true,\n      maxZoom: 14\n    });\n    setTimeout(() => {\n      this.map.invalidateSize(true);\n      this.map.fitBounds(bounds, {\n        animate: true,\n        maxZoom: 14\n      });\n    }, 800);\n  }\n  ngOnDestroy() {\n    if (this.map) {\n      this.map.off();\n      this.map.remove();\n    }\n  }\n};\nLocalizacionComponent = __decorate([Component({\n  selector: 'app-localizacion',\n  standalone: true,\n  imports: [CommonModule, RouterModule],\n  templateUrl: './localizacion.component.html',\n  styleUrls: ['./localizacion.component.css']\n})], LocalizacionComponent);\nexport { LocalizacionComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}