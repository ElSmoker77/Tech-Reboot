{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/maty_/Desktop/Tech-Reboot2.0/TechReboot2.61/TechReboot/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { CommonModule, DatePipe } from '@angular/common';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/contact.service\";\nimport * as i2 from \"@angular/common\";\nfunction AdminContactosComponent_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 12);\n    i0.ɵɵtext(1, \" Cargando mensajes... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction AdminContactosComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 13);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", ctx_r0.error, \" \");\n  }\n}\nfunction AdminContactosComponent_div_16_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 20);\n    i0.ɵɵtext(2, \" No hay mensajes a\\u00FAn. \");\n    i0.ɵɵelementEnd()();\n  }\n}\nfunction AdminContactosComponent_div_16_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\")(6, \"span\", 21);\n    i0.ɵɵtext(7);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(8, \"td\");\n    i0.ɵɵtext(9);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const m_r2 = ctx.$implicit;\n    const ctx_r0 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(m_r2.nombre);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(m_r2.correo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"title\", m_r2.mensaje);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate1(\" \", m_r2.mensaje, \" \");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r0.fmtFecha(m_r2.createdAt));\n  }\n}\nfunction AdminContactosComponent_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14)(1, \"table\", 15)(2, \"thead\")(3, \"tr\")(4, \"th\", 16);\n    i0.ɵɵtext(5, \"Nombre\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(6, \"th\", 16);\n    i0.ɵɵtext(7, \"Correo\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"th\", 17);\n    i0.ɵɵtext(9, \"Mensaje\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 16);\n    i0.ɵɵtext(11, \"Fecha\");\n    i0.ɵɵelementEnd()()();\n    i0.ɵɵelementStart(12, \"tbody\");\n    i0.ɵɵtemplate(13, AdminContactosComponent_div_16_tr_13_Template, 3, 0, \"tr\", 18)(14, AdminContactosComponent_div_16_tr_14_Template, 10, 5, \"tr\", 19);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(13);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.mensajes.length === 0);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngForOf\", ctx_r0.mensajes);\n  }\n}\nexport let AdminContactosComponent = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class AdminContactosComponent {\n    constructor(contactService, datePipe) {\n      this.contactService = contactService;\n      this.datePipe = datePipe;\n      this.mensajes = [];\n      this.cargando = false;\n      this.error = null;\n    }\n    ngOnInit() {\n      this.cargarMensajes();\n    }\n    cargarMensajes() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        _this.cargando = true;\n        _this.error = null;\n        try {\n          _this.mensajes = yield _this.contactService.getMensajes();\n        } catch (err) {\n          console.error(err);\n          _this.error = 'No se pudieron cargar los mensajes de contacto';\n        } finally {\n          _this.cargando = false;\n        }\n      })();\n    }\n    fmtFecha(fecha) {\n      return this.datePipe.transform(fecha, 'dd/MM/yyyy HH:mm', 'es-CL') || fecha;\n    }\n    static #_ = _staticBlock = () => (this.ɵfac = function AdminContactosComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || AdminContactosComponent)(i0.ɵɵdirectiveInject(i1.ContactService), i0.ɵɵdirectiveInject(i2.DatePipe));\n    }, this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AdminContactosComponent,\n      selectors: [[\"app-admin-contactos\"]],\n      features: [i0.ɵɵProvidersFeature([DatePipe])],\n      decls: 17,\n      vars: 4,\n      consts: [[1, \"admin-contactos\"], [1, \"admin-contactos__header\"], [1, \"admin-contactos__header-main\"], [1, \"d-flex\", \"align-items-center\", \"gap-2\"], [1, \"header-icon\"], [1, \"bi\", \"bi-envelope-paper\"], [1, \"admin-contactos__subtitle\"], [1, \"admin-badge\"], [1, \"bi\", \"bi-chat-dots-fill\"], [\"class\", \"admin-contactos__state\", 4, \"ngIf\"], [\"class\", \"admin-contactos__state admin-contactos__state--error\", 4, \"ngIf\"], [\"class\", \"admin-contactos__table-wrapper\", 4, \"ngIf\"], [1, \"admin-contactos__state\"], [1, \"admin-contactos__state\", \"admin-contactos__state--error\"], [1, \"admin-contactos__table-wrapper\"], [1, \"admin-table\"], [2, \"width\", \"20%\"], [2, \"width\", \"40%\"], [4, \"ngIf\"], [4, \"ngFor\", \"ngForOf\"], [\"colspan\", \"4\", 1, \"text-center\", \"py-3\"], [1, \"texto-recortado\", 3, \"title\"]],\n      template: function AdminContactosComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"section\", 0)(1, \"header\", 1)(2, \"div\", 2)(3, \"div\", 3)(4, \"div\", 4);\n          i0.ɵɵelement(5, \"i\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(6, \"div\")(7, \"h2\");\n          i0.ɵɵtext(8, \"Mensajes de contacto\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"p\", 6);\n          i0.ɵɵtext(10, \" Consulta los mensajes enviados desde el formulario \\\"Cont\\u00E1ctanos\\\". \");\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵelementStart(11, \"span\", 7);\n          i0.ɵɵelement(12, \"i\", 8);\n          i0.ɵɵtext(13);\n          i0.ɵɵelementEnd()();\n          i0.ɵɵtemplate(14, AdminContactosComponent_div_14_Template, 2, 0, \"div\", 9)(15, AdminContactosComponent_div_15_Template, 2, 1, \"div\", 10)(16, AdminContactosComponent_div_16_Template, 15, 2, \"div\", 11);\n          i0.ɵɵelementEnd();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(13);\n          i0.ɵɵtextInterpolate1(\" \", ctx.mensajes.length, \" mensaje(s) \");\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.cargando);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.cargando && ctx.error);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.cargando && !ctx.error);\n        }\n      },\n      dependencies: [CommonModule, i2.NgForOf, i2.NgIf],\n      encapsulation: 2\n    }));\n  }\n  _staticBlock();\n  return AdminContactosComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}