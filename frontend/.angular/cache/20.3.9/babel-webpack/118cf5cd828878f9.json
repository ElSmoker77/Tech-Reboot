{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/ALUMNO/Downloads/TechReboot2.55/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { FormsModule } from '@angular/forms';\nimport { CommonModule } from '@angular/common';\nimport { HttpClientModule } from '@angular/common/http';\nlet LoginComponent = class LoginComponent {\n  constructor(auth, router) {\n    this.auth = auth;\n    this.router = router;\n    this.correo = '';\n    this.password = '';\n    this.mensaje = '';\n    this.estadoMensaje = '';\n    this.isSubmitting = false;\n  }\n  login() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      if (!_this.correo || !_this.password) {\n        _this.estadoMensaje = 'error';\n        _this.mensaje = 'Debes ingresar tu correo y contraseña.';\n        return;\n      }\n      _this.isSubmitting = true;\n      _this.estadoMensaje = '';\n      _this.mensaje = '';\n      const correoNormalizado = _this.correo.trim().toLowerCase();\n      try {\n        const res = yield _this.auth.login({\n          correo: correoNormalizado,\n          password: _this.password\n        });\n        if (res?.token) {\n          localStorage.setItem('token', res.token);\n        }\n        localStorage.setItem('usuario', correoNormalizado);\n        _this.estadoMensaje = 'success';\n        _this.mensaje = res?.msg ?? 'Inicio de sesion exitoso.';\n        setTimeout(() => _this.router.navigate(['/componentes']), 300);\n      } catch (err) {\n        console.error('Error al iniciar sesion:', err);\n        _this.estadoMensaje = 'error';\n        _this.mensaje = err?.error?.msg || 'Correo o contraseña incorrectos. Intenta nuevamente.';\n      } finally {\n        _this.isSubmitting = false;\n      }\n    })();\n  }\n};\nLoginComponent = __decorate([Component({\n  selector: 'app-login',\n  standalone: true,\n  imports: [CommonModule, FormsModule, RouterModule, HttpClientModule],\n  templateUrl: './login.component.html',\n  styleUrls: ['./login.component.css']\n})], LoginComponent);\nexport { LoginComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}